<!DOCTYPE html>
<html lang="en">
{% include head.html %}
{% for css in site.data.egjs.css %}
	<link rel="stylesheet" href="{{ css }}">
{% endfor %}
{% for dist in site.data.egjs.dist %}
	<script src="{{ dist }}"></script>
{% endfor %}
<script>
	var homeUrl = window.location.href;
	if (homeUrl.indexOf("#") !== -1) {
		homeUrl = homeUrl.substr(0, homeUrl.indexOf("#"));
	}
	homeUrl = homeUrl
		.replace("/index.html", "/")
		.replace("/gallery.html", "/");
	if (homeUrl[homeUrl.length-1] !== "/") {
		homeUrl += "/";
	};
	window.HOMELINK = homeUrl;
	window.LIBLINK = [];
	// "https://naver.github.io/egjs-infinitegrid/v3.0.0/demo/"
	{% for dist in site.data.egjs.dist %}
	//window.HOMELINK + 
	window.LIBLINK.push("{{ dist }}");
	{% endfor %}

	var demoTemplate = '<li class="demo-item"><a href="./assets/html/{target}.html" target="_blank"><p><img src="./assets/image/demos/{target}.gif" /></p><p>{name}</p></a></li>';
	var layouts = [];
	{% for layout in site.data.egjs.layouts %}
	layouts["{{layout.name}}"] = {
		image: "{{layout.image}}",
		desc: "{{layout.desc}}",
		demos: {}
	};
	{% for demo in layout.demos %}
	layouts["{{layout.name}}"].demos["{{demo.name}}"] = {
		name: "{{demo.name}}",
		target: "{{demo.target}}"
	};
	{% endfor %}
	{% endfor %}
	function showLayout(name, self) {
		layoutList.removeClass("checked");
		$(self).addClass("checked");

		var layout = layouts[name];
		img.attr("src", layout.image);
		title.text(name);
		desc.text(layout.desc);

		var demos = layout.demos;
		var name;
		var demosHTML = [];
		for (name in demos) {
			demosHTML.push(demoTemplate.replace(/\{(\S*)\}/g, function(_, replaceTarget) {
				return demos[name][replaceTarget];
			}));
		}
		demoList.html(demosHTML.join(""))
	}
</script>
<body>
{% include facebook.html %}
{% include header.html %}
{% include promo.html %}
{% include nav.html %}
<div class="contents">
	<section id="demos" class="tab tab-home docs section demos">
		{% capture demo %}{% include_relative demo.md %}{% endcapture %} {{ demo | markdownify }}
	</section>
	<section id="getting-started" class="tab tab-started docs section started">
		<div class="container">
			<div class="docs-inner">
				<h2 class="title">Getting Started</h2>
				{% capture started %}{% include_relative started.md %}{% endcapture %}
				{{ started | markdownify }}
			</div>
		</div>
	</section>
	<section id="layouts" class="tab tab-layouts docs section layouts">
		<div class="container">
			<div class="docs-inner">
				<h2 class="title">Layouts</h2>
				<p>Infinitegrid offers five layouts. You can place items with the layout.</p>
			</div>
		</div>
	</section>
	<section id="layout-list" class="tab tab-layouts">
		<div class="layout-list">
			<ul class="docs-inner">
			{% for layout in site.data.egjs.layouts %}
				<li class="layout-item">
					<a href="#{{layout.name}}">
						<p>{{layout.name}}</p>
					</a>
				</li>
			{% endfor %}
			</ul>
		</nav>
	</section>
	<sections class="tab tab-layouts">
		{% for layout in site.data.egjs.layouts %}
		<div id="{{layout.name}}" class="docs section layouts-view">
			<div class="container">
				<div class="docs-inner">
					<div class="layout-view">
						<div class="logo-area">
							<img class="logo logo1" src="{{layout.image}}" />
							<img class="logo logo2" src="{{layout.image}}" />
						</div>
						<h3 class="title">{{layout.name}}</h3>
						<p class="desc">{{layout.desc}}</p>
						<ul class="demo-list">
							{% for demo in layout.demos %}
							<li class="demo-item">
								<a href="./assets/html/{{demo.target}}.html" target="_blank">
									<p><img src="./assets/image/demos/{{demo.target}}.gif" /></p>
									<p>{{demo.name}}</p>
								</a>
							</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
		</div>
		{% endfor %}
	</sections>
	
</div>
{% include footer.html %}
{% for js in site.data.egjs.js %}
	<script src="{{ js }}"></script>
{% endfor %}
</body>
</html>