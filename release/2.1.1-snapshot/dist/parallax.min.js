/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/infinitegrid project is licensed under the MIT license
 * 
 * @egjs/infinitegrid JavaScript library
 * https://github.com/naver/egjs-infinitegrid
 * 
 * @version 2.1.1-snapshot
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Parallax=e():(t.eg=t.eg||{},t.eg.Parallax=e())}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r=navigator.userAgent,_=-1!==r.indexOf("Mobi")||/ios|android/.test(r),s=function(t){return t===window},a={vertical:{position:"top",size:"height",cammelSize:"Height",coordinate:"Y"},horizontal:{position:"left",size:"width",cammelSize:"Width",coordinate:"X"}},c="start",l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.options=n({container:null,selector:"img",strength:1,center:0,range:[-1,1],align:c,horizontal:!1,threshold:50},o),this._root=e,this._rootSize=0,this._containerPosition=0,this._style=a[this.options.horizontal?"horizontal":"vertical"],this.resize()}return t.prototype._checkParallaxItem=function(t){if(t){var e=this.options.selector;if(!t.__IMAGE__){var o=t.querySelector(e);if(t.__IMAGE__=o||-1,-1===t.__IMAGE__)return;t.__BOX__=o.parentNode}if(-1!==t.__IMAGE__){var i=this._style.cammelSize;t.__IMAGE__.__SIZE__=t.__IMAGE__["offset"+i],t.__BOX__.__SIZE__=t.__BOX__["offset"+i]}}},t.prototype.resize=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=this._root,i=this.options.container,n=this._style.position,r=this._style.cammelSize;if(i&&o!==i){var a=(s(o)?document.body:o).getBoundingClientRect(),c=i.getBoundingClientRect();this._containerPosition=c[n]-a[n]}else this._containerPosition=0;if(this._rootSize=s(o)?window["inner"+r]||document.documentElement["client"+r]:o["client"+r],_&s(o)){var l=document.body.offsetWidth||document.documentElement.offsetWidth,f=window.innerWidth;this._rootSize=this._rootSize/(l/f)}e.forEach(function(e){t._checkParallaxItem(e.el)})},t.prototype.refresh=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this._style,n=i.position,r=i.coordinate,_=i.size,s=this.options,a=s.strength,c=s.center,l=s.range,f=s.align,h=s.threshold,u=this._rootSize,d=o+u,p=this._containerPosition;e.forEach(function(e){if(e.rect&&e.size&&e.el){var i=p+e.rect[n],s=e.rect[_]||e.size[_];if(!(o>i+s+h||d<i-h)){var m=e.el;if(m.__IMAGE__||t._checkParallaxItem(m),-1!==m.__IMAGE__){var v=m.__IMAGE__,g=m.__BOX__,y=g.__SIZE__,z=v.__SIZE__;if(y>=z)return void(v.style.transform="");var E=i+y/2,x=(o+u/2-(u+y)/2*c-E)/(u+y)*2*a;x=Math.max(Math.min(x,l[1]),l[0]);var I=(y-z)/2,S=I*(1-x);"center"===f&&(S-=I),v.__TRANSLATE__=S,v.__RATIO__=x,v.style.transform="translate"+r+"("+S+"px)"}}}})},t}();t.exports=l}])});
//# sourceMappingURL=parallax.min.js.map